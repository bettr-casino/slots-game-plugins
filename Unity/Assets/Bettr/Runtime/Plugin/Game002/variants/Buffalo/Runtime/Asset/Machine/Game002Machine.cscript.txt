require "math"
require "Core"

Game002Machine = {
    Manifest = {        
        BundleName = "game002",
        BundleVersion = "buffalo",
        BaseGameMachinePrefabName = "Game002BaseGameMachine", 
        FreeSpinsMachinePrefabName = "Game002FreeSpinsMachine",
        WheelMachine1PrefabName = "Game002WheelMachine1",
        WheelMachine2PrefabName = "Game002WheelMachine2",
        WheelMachine3PrefabName = "Game002WheelMachine3" 
    }
}

function Game002Machine:new(o)
	o = o or {}
	setmetatable(o, self)
	self.__index = self
	return o
end

function Game002Machine:destroy()
	System.Print("Game002Machine destroy tile id={0}", self.id)
end

function Game002Machine:OnError(callStack)
	System.Error("Game002Machine Error CallStack: {0}", callStack)
end

function Game002Machine:Awake()
	System.Print("Game002Machine Awake tile id={0}", self.id)
end

function Game002Machine:Start()
    System.Print("Game002Machine Start tile id={0}", self.id)
    series
        do
            local manifest = self.Manifest
            local baseGameMachineParentProperty = self.BaseGameMachineParent
            local baseGameMachineParent = baseGameMachineParentProperty["Pivot"]
            BettrAssetController.LoadPrefab(manifest.BundleName, manifest.BundleVersion, manifest.BaseGameMachinePrefabName, baseGameMachineParent)
            baseGameMachineParentProperty:SetActive(true)
        end
    end
end

function Game002Machine:OnSpinButtonClicked()
    System.Print("Game002Machine OnSpinButtonClicked tile id={0}", self.id)    
end

function Game002Machine:OnBecameVisible()
	System.Print("Game002Machine OnBecameVisible tile id={0}", self.id)
end

return Game002Machine:new()