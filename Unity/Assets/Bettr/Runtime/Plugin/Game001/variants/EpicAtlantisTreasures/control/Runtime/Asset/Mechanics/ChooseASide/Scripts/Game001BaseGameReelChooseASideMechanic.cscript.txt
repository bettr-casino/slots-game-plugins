require "math"
require "Core"

Game001BaseGameReelChooseASideMechanic = {
    Config = {
        Machine = "Game001",
        Variant = "EpicAtlantisTreasures",
        Experiment = "control",
    },
    State = {
        ReelSymbolGroups = nil,
    },
}

function Game001BaseGameReelChooseASideMechanic:new(o)
	o = o or {}
	setmetatable(o, self)
	self.__index = self
	return o
end

function Game001BaseGameReelChooseASideMechanic:destroy()
	System.Print("Game001BaseGameReelChooseASideMechanic destroy tile id={0}", self.id)
end

function Game001BaseGameReelChooseASideMechanic:Initialize(reel)
end

function Game001BaseGameReelChooseASideMechanic:StartEngines(reel, machine)
    local source = machine.ChooseASideMechanicSymbolGroup
    self.State.ReelSymbolGroups = BettrMechanicsController.AddSymbolsToReelSymbolGroups("ChooseASide", reel.BettrReelController, source)
end

function Game001BaseGameReelChooseASideMechanic:OnOutcomeReceived(reel)
    local outcomeReelStopIndex = reel.BettrReelController.SpinOutcomeTable["OutcomeReelStopIndex"];
    reel.BettrReelController.ReplaceSymbolForSpin(outcomeReelStopIndex, "BN1")
end

